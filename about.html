<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>О нас - SkyHouse | Магазин бытовой техники и электроники</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="/">SkyHouse</a>
            </div>
            <nav>
                <ul>
                    <li><a href="catalog.html">Каталог</a></li>
                    <li><a href="about.html" class="active">О нас</a></li>
                    <li><a href="delivery.html">Доставка и оплата</a></li>
                    <li><a href="contacts.html">Контакты</a></li>
                </ul>
            </nav>
            <div class="header-right">
                <div class="auth">
                    <a href="#" onclick="openLoginModal()">Вход</a>
                    <a href="#" onclick="openRegisterModal()">Регистрация</a>
                </div>
                <div class="search">
                    <input type="text" placeholder="Поиск...">
                    <button>Найти</button>
                </div>
                <div class="cart-icon" onclick="openCartModal()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cart-item-count">0</span>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="about-hero">
            <div class="container">
                <h1>О компании SkyHouse</h1>
                <p>Мы создаем комфорт в вашем доме с 2010 года</p>
            </div>
        </section>

        <section class="about-content-section">
            <div class="container">
                <div class="about-content">
                    <div class="about-text">
                        <h2>Наша история</h2>
                        <p>SkyHouse начал свою работу в 2010 году как небольшой магазин бытовой техники в Москве. Сегодня мы - крупная федеральная сеть с более чем 50 магазинами по всей России и собственным интернет-магазином.</p>
                        <p>За эти годы мы помогли обустроить более 1 миллиона домов и квартир, став надежным партнером для наших клиентов.</p>
                        
                        <h2>Наша миссия</h2>
                        <p>Мы стремимся сделать современную технику доступной для каждого, предлагая оптимальное сочетание цены и качества.</p>
                        
                        <h2>Наши ценности</h2>
                        <ul class="values-list">
                            <li><i class="fas fa-check-circle"></i> Честность и прозрачность</li>
                            <li><i class="fas fa-check-circle"></i> Клиентоориентированность</li>
                            <li><i class="fas fa-check-circle"></i> Профессионализм</li>
                            <li><i class="fas fa-check-circle"></i> Инновации</li>
                            <li><i class="fas fa-check-circle"></i> Ответственность</li>
                        </ul>
                    </div>
                    <div class="about-image">
                        <img src="images/about-store.jpg" alt="Магазин SkyHouse">
                        <div class="stats-overlay">
                            <div class="stat-item">
                                <span class="stat-number">12+</span>
                                <span class="stat-text">лет на рынке</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">50+</span>
                                <span class="stat-text">магазинов</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">1M+</span>
                                <span class="stat-text">довольных клиентов</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="team-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Наша команда</h2>
                    <div class="section-divider"></div>
                    <p class="section-subtitle">Профессионалы, которые делают ваш комфорт возможным</p>
                </div>
                
                <div class="team-grid">
                    <div class="team-member">
                        <img src="images/team1.jpg" alt="Иван Петров">
                        <h3>Иван Петров</h3>
                        <p>Основатель и генеральный директор</p>
                        <div class="member-social">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                    <div class="team-member">
                        <img src="images/team2.jpg" alt="Елена Смирнова">
                        <h3>Елена Смирнова</h3>
                        <p>Директор по маркетингу</p>
                        <div class="member-social">
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-telegram-plane"></i></a>
                        </div>
                    </div>
                    <div class="team-member">
                        <img src="images/team3.jpg" alt="Алексей Иванов">
                        <h3>Алексей Иванов</h3>
                        <p>Технический директор</p>
                        <div class="member-social">
                            <a href="#"><i class="fab fa-github"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                        </div>
                    </div>
                    <div class="team-member">
                        <img src="images/team4.jpg" alt="Ольга Кузнецова">
                        <h3>Ольга Кузнецова</h3>
                        <p>Директор по обслуживанию клиентов</p>
                        <div class="member-social">
                            <a href="#"><i class="fab fa-vk"></i></a>
                            <a href="#"><i class="fab fa-whatsapp"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="advantages" id="advantages">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Наши преимущества</h2>
                    <div class="section-divider"></div>
                    <p class="section-subtitle">Почему клиенты выбирают именно нас</p>
                </div>
                <div class="advantage-grid">
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i class="fas fa-box-open"></i>
                        </div>
                        <h3>Широкий ассортимент</h3>
                        <p>Более 10 000 товаров от ведущих производителей.</p>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i class="fas fa-tags"></i>
                        </div>
                        <h3>Лучшие цены</h3>
                        <p>Регулярные акции и скидки для наших клиентов.</p>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i class="fas fa-truck"></i>
                        </div>
                        <h3>Быстрая доставка</h3>
                        <p>Доставка по всей России в кратчайшие сроки.</p>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Гарантия качества</h3>
                        <p>Все товары сертифицированы и имеют официальную гарантию.</p>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i class="fas fa-headset"></i>
                        </div>
                        <h3>Поддержка 24/7</h3>
                        <p>Круглосуточная служба поддержки клиентов.</p>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i class="fas fa-store"></i>
                        </div>
                        <h3>Собственные сервисные центры</h3>
                        <p>Быстрый и качественный ремонт техники.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="partners-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Наши партнеры</h2>
                    <div class="section-divider"></div>
                    <p class="section-subtitle">Мы сотрудничаем с ведущими мировыми брендами</p>
                </div>
                <div class="partners-grid">
                    <div class="partner-item">
                        <img src="images/samsung-logo.png" alt="Samsung">
                    </div>
                    <div class="partner-item">
                        <img src="images/lg-logo.png" alt="LG">
                    </div>
                    <div class="partner-item">
                        <img src="images/bosch-logo.png" alt="Bosch">
                    </div>
                    <div class="partner-item">
                        <img src="images/sony-logo.png" alt="Sony">
                    </div>
                    <div class="partner-item">
                        <img src="images/apple-logo.png" alt="Apple">
                    </div>
                    <div class="partner-item">
                        <img src="images/xiaomi-logo.png" alt="Xiaomi">
                    </div>
                </div>
            </div>
        </section>

        <section class="testimonials-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Отзывы наших клиентов</h2>
                    <div class="section-divider"></div>
                    <p class="section-subtitle">Что говорят о нас покупатели</p>
                </div>
                <div class="testimonials-slider">
                    <div class="testimonial-item">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                <p>"Покупаю технику в SkyHouse уже несколько лет. Всегда отличное качество и сервис. Особенно радуют акции и бонусы для постоянных клиентов!"</p>
                            </div>
                            <div class="testimonial-author">
                                <img src="images/client1.jpg" alt="Анна К.">
                                <div class="author-info">
                                    <h4>Анна К.</h4>
                                    <span>Москва</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-item">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                <p>"Заказывал холодильник с доставкой в другой город. Все пришло в срок, без повреждений. Спасибо за отличную работу!"</p>
                            </div>
                            <div class="testimonial-author">
                                <img src="images/client2.jpg" alt="Дмитрий С.">
                                <div class="author-info">
                                    <h4>Дмитрий С.</h4>
                                    <span>Санкт-Петербург</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-item">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                <p>"Отличный магазин с грамотными консультантами. Помогли выбрать телевизор именно под мои нужды. Рекомендую!"</p>
                            </div>
                            <div class="testimonial-author">
                                <img src="images/client3.jpg" alt="Ольга М.">
                                <div class="author-info">
                                    <h4>Ольга М.</h4>
                                    <span>Екатеринбург</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="contact-form-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Свяжитесь с нами</h2>
                    <div class="section-divider"></div>
                    <p class="section-subtitle">Мы всегда рады вашим вопросам и предложениям</p>
                </div>
                
                <div class="contact-form-wrapper">
                    <form id="contactForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contactName">Ваше имя*</label>
                                <input type="text" id="contactName" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="contactEmail">Email*</label>
                                <input type="email" id="contactEmail" name="email" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="contactSubject">Тема сообщения</label>
                            <input type="text" id="contactSubject" name="subject">
                        </div>
                        <div class="form-group">
                            <label for="contactMessage">Сообщение*</label>
                            <textarea id="contactMessage" name="message" rows="5" required></textarea>
                        </div>
                        <div class="form-submit">
                            <button type="submit" class="submit-btn">Отправить сообщение</button>
                        </div>
                    </form>
                    
                    <div class="contact-info">
                        <div class="contact-info-item">
                            <div class="contact-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="contact-text">
                                <h4>Адрес</h4>
                                <p>г. Москва, ул. Техническая, д. 1</p>
                            </div>
                        </div>
                        <div class="contact-info-item">
                            <div class="contact-icon">
                                <i class="fas fa-phone-alt"></i>
                            </div>
                            <div class="contact-text">
                                <h4>Телефон</h4>
                                <p>+7 (495) 123-45-67</p>
                            </div>
                        </div>
                        <div class="contact-info-item">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="contact-text">
                                <h4>Email</h4>
                                <p>info@skyhouse.ru</p>
                            </div>
                        </div>
                        <div class="contact-info-item">
                            <div class="contact-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="contact-text">
                                <h4>Часы работы</h4>
                                <p>Пн-Пт: 9:00 - 21:00<br>Сб-Вс: 10:00 - 20:00</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>SkyHouse</h3>
                    <p>Мы создаем комфорт в вашем доме с 2010 года. Лучшая техника по лучшим ценам.</p>
                    <div class="footer-social">
                        <a href="#"><i class="fab fa-vk"></i></a>
                        <a href="#"><i class="fab fa-telegram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Каталог</h3>
                    <ul>
                        <li><a href="catalog.html?category=refrigerators">Холодильники</a></li>
                        <li><a href="catalog.html?category=washing_machines">Стиральные машины</a></li>
                        <li><a href="catalog.html?category=televisions">Телевизоры</a></li>
                        <li><a href="catalog.html?category=laptops">Ноутбуки</a></li>
                        <li><a href="catalog.html?category=smartphones">Смартфоны</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Компания</h3>
                    <ul>
                        <li><a href="about.html">О нас</a></li>
                        <li><a href="delivery.html">Доставка и оплата</a></li>
                        <li><a href="guarantee.html">Гарантия</a></li>
                        <li><a href="contacts.html">Контакты</a></li>
                        <li><a href="vacancies.html">Вакансии</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Помощь</h3>
                    <ul>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="blog.html">Блог</a></li>
                        <li><a href="reviews.html">Отзывы</a></li>
                        <li><a href="service.html">Сервисные центры</a></li>
                        <li><a href="wholesale.html">Оптовым клиентам</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="copyright">
                    <p>&copy; 2025 SkyHouse. Все права защищены.</p>
                </div>
                <div class="footer-links">
                    <a href="privacy.html">Политика конфиденциальности</a>
                    <a href="terms.html">Пользовательское соглашение</a>
                </div>
                <div class="payment-methods">
                    <img src="images/visa.png" alt="Visa">
                    <img src="images/mastercard.png" alt="Mastercard">
                    <img src="images/mir.png" alt="Мир">
                    <img src="images/sbp.png" alt="СБП">
                </div>
            </div>
        </div>
    </footer>

    <!-- Модальные окна (аналогичны главной странице) -->
    <!-- Модальное окно входа -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLoginModal()">&times;</span>
            <h2>Вход</h2>
            <form action="#" method="post">
                <label for="login-email">Email:</label>
                <input type="email" id="login-email" name="email" required>

                <label for="login-password">Пароль:</label>
                <input type="password" id="login-password" name="password" required>

                <div class="form-options">
                    <label>
                        <input type="checkbox" name="remember"> Запомнить меня
                    </label>
                    <a href="forgot-password.html" class="forgot-password">Забыли пароль?</a>
                </div>

                <button type="submit">Войти</button>
                
                <div class="social-login">
                    <p>Или войдите через:</p>
                    <div class="social-buttons">
                        <button type="button" class="social-btn vk"><i class="fab fa-vk"></i> ВКонтакте</button>
                        <button type="button" class="social-btn google"><i class="fab fa-google"></i> Google</button>
                    </div>
                </div>
                
                <div class="register-link">
                    Нет аккаунта? <a href="#" onclick="closeLoginModal(); openRegisterModal();">Зарегистрироваться</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Модальное окно регистрации -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeRegisterModal()">&times;</span>
            <h2>Регистрация</h2>
            <form action="#" method="post">
                <div class="form-row">
                    <div class="form-group">
                        <label for="reg-first-name">Имя*</label>
                        <input type="text" id="reg-first-name" name="first_name" required>
                    </div>
                    <div class="form-group">
                        <label for="reg-last-name">Фамилия*</label>
                        <input type="text" id="reg-last-name" name="last_name" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="reg-email">Email*</label>
                    <input type="email" id="reg-email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-phone">Телефон*</label>
                    <input type="tel" id="reg-phone" name="phone" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-password">Пароль*</label>
                    <input type="password" id="reg-password" name="password" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-confirm-password">Подтвердите пароль*</label>
                    <input type="password" id="reg-confirm-password" name="confirm_password" required>
                </div>
                
                <div class="form-options">
                    <label>
                        <input type="checkbox" name="agreement" required> Я согласен с <a href="terms.html">условиями использования</a> и <a href="privacy.html">политикой конфиденциальности</a>
                    </label>
                    <label>
                        <input type="checkbox" name="newsletter"> Я хочу получать новости и специальные предложения
                    </label>
                </div>

                <button type="submit">Зарегистрироваться</button>
                
                <div class="login-link">
                    Уже есть аккаунт? <a href="#" onclick="closeRegisterModal(); openLoginModal();">Войти</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Модальное окно корзины -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCartModal()">&times;</span>
            <h2>Корзина</h2>
            <div class="cart-items" id="cart-items-container">
                <!-- Здесь будет содержимое корзины -->
                <p>Ваша корзина пуста.</p>
            </div>
            <div class="cart-total">
                Итого: <span id="cart-total-price">0</span> ₽
            </div>
            
            <!-- Блок выбора способа оплаты -->
            <div class="payment-methods" id="payment-methods">
                <h3>Способ оплаты</h3>
                <div class="payment-options">
                    <div class="payment-option" data-method="visa" onclick="selectPaymentMethod('visa')">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/2560px-Visa_Inc._logo.svg.png" alt="Visa">
                        <p>Visa</p>
                    </div>
                    <div class="payment-option" data-method="mastercard" onclick="selectPaymentMethod('mastercard')">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1280px-Mastercard-logo.svg.png" alt="Mastercard">
                        <p>Mastercard</p>
                    </div>
                    <div class="payment-option" data-method="mir" onclick="selectPaymentMethod('mir')">
                        <img src="https://nklk.ru/dll_image/3213.png" alt="Мир">
                        <p>Мир</p>
                    </div>
                    <div class="payment-option" data-method="sbp" onclick="selectPaymentMethod('sbp')">
                        <img src="https://www.depotwpf.ru/upload/resize_cache/iblock/4dc/1500_949_1/4dcd6ddc73d8e4db662a9ef61757edde.png" alt="СБП">
                        <p>СБП</p>
                    </div>
                </div>
                
                <!-- Форма для оплаты картой -->
                <div class="payment-form" id="card-payment-form">
                    <div class="form-group">
                        <label for="card-number">Номер карты</label>
                        <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19">
                    </div>
                    <div class="form-group">
                        <label for="card-name">Имя владельца</label>
                        <input type="text" id="card-name" placeholder="IVAN IVANOV">
                    </div>
                    <div class="payment-form-row">
                        <div class="form-group">
                            <label for="card-expiry">Срок действия</label>
                            <input type="text" id="card-expiry" placeholder="MM/YY" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label for="card-cvv">CVV/CVC</label>
                            <input type="text" id="card-cvv" placeholder="123" maxlength="3">
                        </div>
                    </div>
                    <button type="button" onclick="processPayment()">Оплатить</button>
                </div>
                
                <!-- Форма для СБП -->
                <div class="payment-form" id="sbp-payment-form">
                    <p>Для оплаты через Систему Быстрых Платежей отсканируйте QR-код или нажмите кнопку ниже:</p>
                    <div style="text-align: center; margin: 20px 0;">
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://skyhouse.ru/payment/12345" alt="QR код для оплаты" style="width: 150px; height: 150px;">
                    </div>
                    <button type="button" onclick="processSBPPayment()">Я оплатил</button>
                </div>
                
                <!-- Сообщение об успешной оплате -->
                <div class="payment-success" id="payment-success">
                    <i class="fas fa-check-circle"></i>
                    <h3>Оплата прошла успешно!</h3>
                    <p>Спасибо за ваш заказ. Номер вашего заказа: #<span id="order-number">12345</span></p>
                    <p>Мы отправили детали заказа на вашу электронную почту.</p>
                    <button onclick="closeCartModal()">Вернуться в магазин</button>
                </div>
            </div>
            
            <button id="checkout-btn" onclick="showPaymentMethods()" style="display: none;">Перейти к оплате</button>
        </div>
    </div>

    <!-- Модальное окно с политикой конфиденциальности -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePrivacyModal()">&times;</span>
            <div class="privacy-content">
                <h1>Политика конфиденциальности интернет-магазина "SkyHouse"</h1>
                <!-- Содержимое политики конфиденциальности -->
            </div>
        </div>
    </div>

    <!-- Кнопка для открытия чата -->
    <button class="chat-toggle" id="chatToggle">Онлайн-чат</button>
    
    <!-- Форма чата -->
    <div class="chat-form" id="chatForm">
        <div class="chat-header">
            <div class="operator-info">
                <img src="images/operator.jpg" alt="Оператор" class="operator-avatar">
                <span>Поддержка (Елена)</span>
            </div>
            <button class="close-btn" id="closeChat">×</button>
        </div>
        
        <div class="chat-body" id="chatBody">
            <div class="typing-indicator" id="typingIndicator">
                Елена печатает...
            </div>
            <!-- Пример сообщения от оператора -->
            <div class="message operator-message">
                <div>Здравствуйте! Чем могу помочь?</div>
                <div class="message-time">10:30</div>
            </div>
        </div>
        
        <div class="chat-footer">
            <button class="file-btn" id="fileBtn" title="Отправить фото">📷</button>
            <input type="file" id="fileInput" class="file-input" accept="image/*">
            <input type="text" class="message-input" id="messageInput" placeholder="Напишите сообщение...">
            <button class="send-btn" id="sendBtn">→</button>
        </div>
    </div>

    <!-- Кнопка "Наверх" -->
    <button class="scroll-to-top" id="scrollToTopBtn" title="Наверх">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        // JavaScript для работы с корзиной
        let cart = [];
        let selectedPaymentMethod = null;
        
        // Функция для обновления количества товаров в корзине
        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-item-count').textContent = totalItems;
        }
        
        // Функция для обновления содержимого корзины в модальном окне
        function updateCartModal() {
            const container = document.getElementById('cart-items-container');
            const checkoutBtn = document.getElementById('checkout-btn');
            
            if (cart.length === 0) {
                container.innerHTML = '<p>Ваша корзина пуста.</p>';
                document.getElementById('cart-total-price').textContent = '0';
                checkoutBtn.style.display = 'none';
                document.getElementById('payment-methods').style.display = 'none';
                return;
            }
            
            let html = '';
            let totalPrice = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                
                html += `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}">
                        <div class="cart-item-info">
                            <div class="cart-item-title">${item.name}</div>
                            <div>${item.quantity} × ${item.price} ₽</div>
                        </div>
                        <div class="cart-item-price">${itemTotal} ₽</div>
                        <div class="cart-item-remove" onclick="removeFromCart(${item.id})">&times;</div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            document.getElementById('cart-total-price').textContent = totalPrice;
            checkoutBtn.style.display = 'block';
            document.getElementById('payment-methods').style.display = 'none';
        }
        
        // Функция для добавления товара в корзину (для демонстрации)
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            updateCartCount();
            updateCartModal();
        }
        
        // Функция для удаления товара из корзины
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartCount();
            updateCartModal();
        }
        
        // Функция показа методов оплаты
        function showPaymentMethods() {
            document.getElementById('payment-methods').style.display = 'block';
            document.getElementById('checkout-btn').style.display = 'none';
        }
        
        // Функция выбора метода оплаты
        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // Убираем выделение со всех методов
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Добавляем выделение выбранному методу
            document.querySelector(`.payment-option[data-method="${method}"]`).classList.add('selected');
            
            // Показываем соответствующую форму оплаты
            document.querySelectorAll('.payment-form').forEach(form => {
                form.classList.remove('active');
            });
            
            if (method === 'sbp') {
                document.getElementById('sbp-payment-form').classList.add('active');
            } else {
                document.getElementById('card-payment-form').classList.add('active');
            }
        }
        
        // Функция обработки платежа
        function processPayment() {
            // Валидация формы
            const cardNumber = document.getElementById('card-number').value;
            const cardName = document.getElementById('card-name').value;
            const cardExpiry = document.getElementById('card-expiry').value;
            const cardCvv = document.getElementById('card-cvv').value;
            
            if (!cardNumber || !cardName || !cardExpiry || !cardCvv) {
                alert('Пожалуйста, заполните все поля!');
                return;
            }
            
            // Имитация обработки платежа
            setTimeout(() => {
                showPaymentSuccess();
            }, 1500);
        }
        
        // Функция обработки платежа через СБП
        function processSBPPayment() {
            // Имитация обработки платежа
            setTimeout(() => {
                showPaymentSuccess();
            }, 1500);
        }
        
        // Функция показа сообщения об успешной оплате
        function showPaymentSuccess() {
            // Генерируем случайный номер заказа
            const orderNumber = Math.floor(10000 + Math.random() * 90000);
            document.getElementById('order-number').textContent = orderNumber;
            
            // Скрываем формы оплаты и показываем сообщение об успехе
            document.querySelectorAll('.payment-form').forEach(form => {
                form.classList.remove('active');
            });
            document.getElementById('payment-success').style.display = 'block';
            
            // Очищаем корзину
            cart = [];
            updateCartCount();
        }
        
        // Функции для работы с модальными окнами
        function openLoginModal() {
            document.getElementById("loginModal").style.display = "block";
        }

        function closeLoginModal() {
            document.getElementById("loginModal").style.display = "none";
        }

        function openRegisterModal() {
            document.getElementById("registerModal").style.display = "block";
        }

        function closeRegisterModal() {
            document.getElementById("registerModal").style.display = "none";
        }

        function openCartModal() {
            document.getElementById("cartModal").style.display = "block";
            updateCartModal();
        }

        function closeCartModal() {
            document.getElementById("cartModal").style.display = "none";
            // Сбрасываем состояние оплаты при закрытии корзины
            document.getElementById('payment-success').style.display = 'none';
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelectorAll('.payment-form').forEach(form => {
                form.classList.remove('active');
            });
            document.getElementById('payment-methods').style.display = 'none';
            document.getElementById('checkout-btn').style.display = 'block';
        }
        
        function openPrivacyModal() {
            document.getElementById("privacyModal").style.display = "block";
        }

        function closePrivacyModal() {
            document.getElementById("privacyModal").style.display = "none";
        }

        // Закрытие модального окна при клике вне его области
        window.onclick = function(event) {
            if (event.target == document.getElementById("loginModal")) {
                closeLoginModal();
            }
            if (event.target == document.getElementById("registerModal")) {
                closeRegisterModal();
            }
            if (event.target == document.getElementById("cartModal")) {
                closeCartModal();
            }
            if (event.target == document.getElementById("privacyModal")) {
                closePrivacyModal();
            }
        }
        
        // Закрытие модального окна при нажатии Esc
        document.onkeydown = function(event) {
            if (event.key === "Escape") {
                closeLoginModal();
                closeRegisterModal();
                closeCartModal();
                closePrivacyModal();
            }
        };
        
        // Форматирование номера карты
        document.getElementById('card-number').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s+/g, '');
            if (value.length > 0) {
                value = value.match(new RegExp('.{1,4}', 'g')).join(' ');
            }
            e.target.value = value;
        });
        
        // Форматирование срока действия карты
        document.getElementById('card-expiry').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            e.target.value = value;
        });
        
        // Для демонстрации - добавляем несколько товаров
        const demoProducts = [
            { id: 1, name: 'Холодильник BOSCH', price: 45990, image: 'images/bosh.jpg' },
            { id: 2, name: 'Стиральная машина LG', price: 32990, image: 'images/category_washing_machines.jpg' },
            { id: 3, name: 'Телевизор Samsung', price: 59990, image: 'images/category_televisions.jpg' }
        ];
        
        // Добавляем обработчик для демонстрации добавления товаров
        document.addEventListener('DOMContentLoaded', () => {
            // Можно добавить обработчики на кнопки "В корзину" в каталоге
            // Для демонстрации добавим 1 товар
            addToCart(demoProducts[0]);
        });

        // JavaScript для онлайн-чата
        const chatToggle = document.getElementById('chatToggle');
        const chatForm = document.getElementById('chatForm');
        const closeChat = document.getElementById('closeChat');
        const chatBody = document.getElementById('chatBody');
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const fileBtn = document.getElementById('fileBtn');
        const fileInput = document.getElementById('fileInput');
        const typingIndicator = document.getElementById('typingIndicator');
        
        let isChatOpen = false;
        
        chatToggle.addEventListener('click', toggleChat);
        closeChat.addEventListener('click', toggleChat);
        
        function toggleChat() {
            isChatOpen = !isChatOpen;
            
            if (isChatOpen) {
                chatForm.classList.add('active');
                messageInput.focus();
            } else {
                chatForm.classList.remove('active');
            }
        }
        
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        sendBtn.addEventListener('click', sendMessage);
        
        fileBtn.addEventListener('click', () => {
            fileInput.click();
        });
        
        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                sendImage(e.target.files[0]);
                e.target.value = '';
            }
        });
        
        function sendMessage() {
            const messageText = messageInput.value.trim();
            if (messageText !== '') {
                addMessage(messageText, 'user');
                messageInput.value = '';
                
                simulateOperatorResponse();
            }
        }
        
        function sendImage(file) {
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const messageDiv = document.createElement('div');
                    messageDiv.classList.add('message', 'user-message');
                    
                    const imgElement = document.createElement('img');
                    imgElement.src = e.target.result;
                    imgElement.classList.add('preview-image');
                    
                    const timeDiv = document.createElement('div');
                    timeDiv.classList.add('message-time');
                    timeDiv.textContent = getCurrentTime();
                    
                    messageDiv.appendChild(imgElement);
                    messageDiv.appendChild(timeDiv);
                    chatBody.appendChild(messageDiv);
                    
                    scrollToBottom();
                    
                    simulateOperatorResponse(true);
                };
                reader.readAsDataURL(file);
            }
        }
        
        function simulateOperatorResponse(isImage = false) {
            setTimeout(() => {
                typingIndicator.style.display = 'block';
                scrollToBottom();
                
                setTimeout(() => {
                    typingIndicator.style.display = 'none';
                    
                    const responses = isImage ? [
                        "Спасибо за фото, я его рассмотрю.",
                        "Я получил ваше изображение, спасибо!",
                        "Благодарю за предоставленное фото."
                    ] : [
                        "Конечно, я вам помогу!",
                        "Пожалуйста, уточните ваш вопрос.",
                        "Сейчас посмотрю информацию по вашему заказу."
                    ];
                    
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(randomResponse, 'operator');
                }, 2000);
            }, 1000);
        }
        
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', sender + '-message');
            
            const messageText = document.createElement('div');
            messageText.textContent = text;
            
            const timeDiv = document.createElement('div');
            timeDiv.classList.add('message-time');
            timeDiv.textContent = getCurrentTime();
            
            messageDiv.appendChild(messageText);
            messageDiv.appendChild(timeDiv);
            chatBody.appendChild(messageDiv);
            
            scrollToBottom();
        }
        
        function scrollToBottom() {
            chatBody.scrollTop = chatBody.scrollHeight;
        }
        
        function getCurrentTime() {
            const now = new Date();
            return `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
        }
        
        // Автоматическое открытие через 30 секунд
        setTimeout(() => {
            if (!isChatOpen) {
                toggleChat();
                addMessage("Здравствуйте! Нужна помощь с выбором товара?", 'operator');
            }
        }, 30000);

        // Кнопка "Наверх"
        const scrollToTopBtn = document.getElementById('scrollToTopBtn');
        
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.style.display = 'flex';
            } else {
                scrollToTopBtn.style.display = 'none';
            }
            
            if (chatForm.classList.contains('active')) {
                scrollToTopBtn.style.display = 'none';
            }
        });

        scrollToTopBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Обработка формы обратной связи
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Здесь можно добавить код для отправки данных на сервер
            alert('Спасибо за ваше сообщение! Мы свяжемся с вами в ближайшее время.');
            this.reset();
        });
    </script>
    
    <div class="build-info">
        Build v1.0.0 - 2025.06.07
    </div>
</body>
</html>